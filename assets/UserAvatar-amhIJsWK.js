import{a as y,r as c,o,c as i,b as a,d as l,ab as S,z as d,e as f,f as m,bO as b,E as x,aT as A,bP as B,p as C,k as R,g as I}from"./index-CUdm6E6f.js";import{_ as N,v as z}from"./PageContainer-QH26AdOU.js";import{a as T,E as V}from"./el-col-Cl9SDlX0.js";import{_ as D,E as F}from"./_plugin-vue_export-helper-CK_rQK0S.js";import{E as L}from"./el-progress-DjCNwtSE.js";import"./el-message-BKze25cq.js";import"./isEqual-B67r2uOz.js";const Q="/assets/avatar-CQlNaQTu.jpg",$=s=>(C("data-v-d39387a3"),s=s(),R(),s),j=["src"],q={key:1,src:Q,width:"278"},M=$(()=>I("br",null,null,-1)),O={__name:"UserAvatar",setup(s){const n=y(),_=c(),t=c(n.user.user_pic),r=c(!1),v=u=>{const e=new FileReader;e.readAsDataURL(u.raw),e.onload=()=>{t.value=e.result}},g=async()=>{r.value=!0,await b(t.value),await n.getUser(),r.value=!1,x({type:"success",message:"更换头像成功"})};return(u,e)=>{const w=L,p=F,k=T,E=V,U=N,h=z;return o(),i(U,{title:"更换头像"},{default:a(()=>[l(E,null,{default:a(()=>[l(k,{span:12},{default:a(()=>[S((o(),i(w,{ref_key:"uploadRef",ref:_,class:"avatar-uploader","auto-upload":!1,"show-file-list":!1,"on-change":v},{default:a(()=>[t.value?(o(),d("img",{key:0,src:t.value,class:"avatar"},null,8,j)):(o(),d("img",q))]),_:1})),[[h,r.value]]),M,l(p,{onClick:e[0]||(e[0]=P=>_.value.$el.querySelector("input").click()),type:"primary",icon:f(A),size:"large"},{default:a(()=>[m(" 选择图片 ")]),_:1},8,["icon"]),l(p,{onClick:g,type:"success",icon:f(B),size:"large"},{default:a(()=>[m(" 上传头像 ")]),_:1},8,["icon"])]),_:1})]),_:1})]),_:1})}}},Z=D(O,[["__scopeId","data-v-d39387a3"]]);export{Z as default};
