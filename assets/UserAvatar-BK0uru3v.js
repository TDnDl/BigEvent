import{a as y,r as n,o as s,c as i,b as a,d as l,ab as S,z as d,e as f,f as m,bO as b,E as R,aT as x,bP as A,p as B,k as C,g as I}from"./index-BsydMoQO.js";import{_ as N,v as z}from"./PageContainer-CUCuX1qU.js";import{a as L,E as T}from"./el-col-CxKru97q.js";import{_ as V,E as D}from"./_plugin-vue_export-helper-CQ3yVNTX.js";import{E as F}from"./el-progress-Cm1MS2pu.js";import"./el-message-_eICEl_x.js";import"./isEqual-DseA2Vd9.js";const Q=""+new URL("avatar-CQlNaQTu.jpg",import.meta.url).href,$=t=>(B("data-v-d39387a3"),t=t(),C(),t),j=["src"],q={key:1,src:Q,width:"278"},M=$(()=>I("br",null,null,-1)),O={__name:"UserAvatar",setup(t){const c=y(),_=n(),o=n(c.user.user_pic),r=n(!1),v=u=>{const e=new FileReader;e.readAsDataURL(u.raw),e.onload=()=>{o.value=e.result}},g=async()=>{r.value=!0,await b(o.value),await c.getUser(),r.value=!1,R({type:"success",message:"更换头像成功"})};return(u,e)=>{const w=F,p=D,U=L,h=T,k=N,E=z;return s(),i(k,{title:"更换头像"},{default:a(()=>[l(h,null,{default:a(()=>[l(U,{span:12},{default:a(()=>[S((s(),i(w,{ref_key:"uploadRef",ref:_,class:"avatar-uploader","auto-upload":!1,"show-file-list":!1,"on-change":v},{default:a(()=>[o.value?(s(),d("img",{key:0,src:o.value,class:"avatar"},null,8,j)):(s(),d("img",q))]),_:1})),[[E,r.value]]),M,l(p,{onClick:e[0]||(e[0]=P=>_.value.$el.querySelector("input").click()),type:"primary",icon:f(x),size:"large"},{default:a(()=>[m(" 选择图片 ")]),_:1},8,["icon"]),l(p,{onClick:g,type:"success",icon:f(A),size:"large"},{default:a(()=>[m(" 上传头像 ")]),_:1},8,["icon"])]),_:1})]),_:1})]),_:1})}}},Z=V(O,[["__scopeId","data-v-d39387a3"]]);export{Z as default};
