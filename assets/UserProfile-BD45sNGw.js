import{a as y,r as u,o as i,c as _,b as a,d as e,ab as I,f as S,bN as B,E as C}from"./index-BsydMoQO.js";import{_ as N,v as R}from"./PageContainer-CUCuX1qU.js";import{a as q,E as F}from"./el-col-CxKru97q.js";import{E as z,a as D}from"./el-form-item-D9kt29y6.js";import{E as L}from"./_plugin-vue_export-helper-CQ3yVNTX.js";import{E as M}from"./el-input-BlQl8ALK.js";import"./el-message-_eICEl_x.js";const O={__name:"UserProfile",setup(P){const{user:{id:d,username:p,nickname:c,email:f},getUser:g}=y(),r=u(!1),l=u({id:d,username:p,nickname:c,email:f}),v={nickname:[{required:!0,message:"请输入用户昵称",trigger:"blur"},{pattern:/^\S{2,10}$/,message:"昵称必须是2-10位的非空字符串",trigger:"blur"}],email:[{required:!0,message:"请输入用户邮箱",trigger:"blur"},{type:"email",message:"邮箱格式不正确",trigger:"blur"}]},m=u(),b=async()=>{await m.value.validate(),r.value=!0,await B(l.value),await g(),r.value=!1,C.success("修改成功")};return(T,o)=>{const s=M,n=z,E=L,V=D,k=q,w=F,U=N,x=R;return i(),_(U,{title:"基本资料"},{default:a(()=>[e(w,null,{default:a(()=>[e(k,{span:12},{default:a(()=>[I((i(),_(V,{model:l.value,rules:v,ref_key:"formRef",ref:m,"label-width":"100px",size:"large"},{default:a(()=>[e(n,{label:"登录名称"},{default:a(()=>[e(s,{modelValue:l.value.username,"onUpdate:modelValue":o[0]||(o[0]=t=>l.value.username=t),disabled:""},null,8,["modelValue"])]),_:1}),e(n,{label:"用户昵称",prop:"nickname"},{default:a(()=>[e(s,{modelValue:l.value.nickname,"onUpdate:modelValue":o[1]||(o[1]=t=>l.value.nickname=t)},null,8,["modelValue"])]),_:1}),e(n,{label:"用户邮箱",prop:"email"},{default:a(()=>[e(s,{modelValue:l.value.email,"onUpdate:modelValue":o[2]||(o[2]=t=>l.value.email=t)},null,8,["modelValue"])]),_:1}),e(n,null,{default:a(()=>[e(E,{type:"primary",onClick:b},{default:a(()=>[S("提交修改")]),_:1})]),_:1})]),_:1},8,["model"])),[[x,r.value]])]),_:1})]),_:1})]),_:1})}}};export{O as default};
